<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
<script type="text/js" rel="stylesheet" href="js/jquery.min.js" ></script>
<script type="text/js" rel="stylesheet" href="js/bootstrap.min.js" ></script>
<script type="text/js" rel="stylesheet" href="css/bootstrap-grid.min.css" ></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link type="text/css" rel="stylesheet" href="css/mobilefirst.css">

<title>Formulario</title>

<script>
function validar_datos(){
	var mensaje, x;
	mensaje = document.getElementById("mensaje");
	
	mensaje.innerHTML = "";
	x = document.getElementById("nombre").value;
	try{
		if (x == "") throw "Complete este campo";
		if (!(isNaN(x))) throw "No esta permitido ingresar numeros";
	}
	
catch(err){
	mensaje.innerHTML = "Error: " + err;
	}
}
</script>

<script>
function validar_edad(){
	var mensaje2, e;
	mensaje2 = document.getElementById("mensaje2");
	
	mensaje2.innerHTML = "";
	e = document.getElementById("edad").value;
	try{
		if(e == "") throw "Complete este campo";
		if(isNaN(e)) throw "No es un numero";
		//debugger; 
		e = Number(e);
		if(e < 18) throw "Edad no validad";
	}
	catch(err){
		mensaje2.innerHTML = "Error: " + err;
	}
}
</script>


<script>
   function lista(sexo) {
   //debugger;
                $('#laboral option').remove();
				if (sexo == 0) {
                    $('#laboral').append('<option value="0" ">Todos...</option>');
                }
			    if (sexo == 1) {
                    $('#laboral').append('<option value="0" ">Todos...</option>');
                    $('#laboral').append('<option value="1" ">Empleado</option>');
                    $('#laboral').append('<option value="2" ">Desempleado</option>');
                    $('#laboral').append('<option value="3" ">Trabajo temp.</option>');
                }
                if (sexo == 2 ) {
                    $('#laboral').append('<option value="0" ">Todos...</option>');
                    $('#laboral').append('<option value="1" ">Empleada</option>');
                    $('#laboral').append('<option value="2" ">Desempleada</option>');
                    $('#laboral').append('<option value="3" ">Trabajo temp.</option>');
                    $('#laboral').append('<option value="4" ">Ama de casa</option>');
                }
            } 
</script>
<script>
function enviar(){
	var formulario = document.getElementById("formulario");	
	var dato = document.getElementById("edad").value;
 
	if (dato >= 18){
		alert("Se ha enviado el formulario correctamente");
		formulario.submit();
		return true;
	} else {
		alert("No se ha enviado el formulario");
		return false;
	}
}
</script>

</head>
<center><h3><strong>Formulario de Ingreso</strong></h3></center>

<body>
<div class="container">
<form id="formulario" action="formulario.html" method="POST" onsubmit="return enviar();">
    <div class="form-group">
	  <label for="nombre">Nombre: </label> 
	  <input id="nombre" name="nombre" type="text" class="form-control" required>
	  <p id="mensaje"></p>
    </div>
	<div class="form-group">
	  <label for="email">E-mail:</label>
      <input type="email" class="form-control" id="email" placeholder="Ingrese email" required>
    </div>
	<div class="form-group">
	 <label for="edad">Edad: </label>
	 <input id="edad" name="edad" type="number" class="form-control" required>
	 <p id="mensaje2"></p>
	</div>
    <div class="form-group">
	  <label for="sexo">Sexo: </label>
	  <select id="sexo" name="sexo" class="form-group" onchange="lista(this.value)">
		  <option value="0" selected="selected">todos...</option>	
		  <option value="1">Hombre</option>
		  <option value="2">Mujer</option>
	  </select>
	</div>
	<div class="form-group">
	  <label for="sexo">Estado Laboral: </label>
	  <select id="laboral" name="laboral" class="form-group">
		  <option value="0" selected="selected">todos...</option>
	  </select>
    </div>
	
    <button type="submit" class="btn btn-success" onclick="validar_edad(); validar_datos();" >Enviar mensaje</button>
	
</form><br>
</div>
</body>
</html>
